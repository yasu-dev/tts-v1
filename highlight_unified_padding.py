import os
from PIL import Image, ImageDraw
import base64
from io import BytesIO

def create_highlighted_images():
    # 3ã¤ã®ç”»åƒã®çµ±ä¸€ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ç®‡æ‰€ã‚’èµ¤è‰²ã§ãƒã‚¤ãƒ©ã‚¤ãƒˆ
    
    # ç”»åƒ1: è¿”å“æ¤œå“ç”»é¢
    print("ğŸ“¸ è¿”å“æ¤œå“ç”»é¢ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°çµ±ä¸€ç®‡æ‰€ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆä¸­...")
    try:
        # ãƒ¢ãƒƒã‚¯ç”»åƒç”Ÿæˆï¼ˆå®Ÿéš›ã®ç”»åƒãŒåˆ©ç”¨ã§ããªã„å ´åˆï¼‰
        img1 = Image.new('RGB', (1400, 900), (248, 250, 254))
        draw1 = ImageDraw.Draw(img1)
        
        # ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†
        draw1.rectangle([0, 0, 1400, 70], fill=(0, 100, 210))
        draw1.text((50, 25), "THE WORLD DOOR - ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†", fill=(255, 255, 255))
        
        # ã‚µã‚¤ãƒ‰ãƒãƒ¼
        draw1.rectangle([0, 70, 250, 900], fill=(255, 255, 255))
        draw1.text((20, 100), "è¿”å“å‡¦ç†", fill=(26, 26, 26))
        
        # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ - çµ±ä¸€ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°éƒ¨åˆ†ã‚’èµ¤è‰²ã§ãƒã‚¤ãƒ©ã‚¤ãƒˆ
        # å·¦ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°32px
        draw1.rectangle([250, 70, 282, 900], fill=(255, 0, 0, 100))  # èµ¤è‰²ãƒã‚¤ãƒ©ã‚¤ãƒˆ
        # å³ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°32px  
        draw1.rectangle([1368, 70, 1400, 900], fill=(255, 0, 0, 100))  # èµ¤è‰²ãƒã‚¤ãƒ©ã‚¤ãƒˆ
        
        # ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
        draw1.rectangle([300, 120, 1350, 180], fill=(255, 255, 255))
        draw1.text((320, 140), "è¿”å“æ¤œå“    å†å‡ºå“æ¥­å‹™ãƒ•ãƒ­ãƒ¼    è¿”å“ç†ç”±åˆ†æ", fill=(26, 26, 26))
        
        # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚«ãƒ¼ãƒ‰ - ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°çµ±ä¸€éƒ¨åˆ†
        draw1.rectangle([300, 200, 1350, 850], fill=(255, 255, 255))
        draw1.text((320, 220), "è¿”å“å•†å“ãƒªã‚¹ãƒˆ", fill=(26, 26, 26))
        
        img1.save('highlighted_inspection.png')
        print("âœ… è¿”å“æ¤œå“ç”»é¢ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆå®Œäº†")
        
    except Exception as e:
        print(f"âŒ è¿”å“æ¤œå“ç”»é¢ã‚¨ãƒ©ãƒ¼: {e}")
    
    # ç”»åƒ2: å†å‡ºå“æ¥­å‹™ãƒ•ãƒ­ãƒ¼ç”»é¢
    print("ğŸ“¸ å†å‡ºå“æ¥­å‹™ãƒ•ãƒ­ãƒ¼ç”»é¢ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°çµ±ä¸€ç®‡æ‰€ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆä¸­...")
    try:
        img2 = Image.new('RGB', (1400, 900), (248, 250, 254))
        draw2 = ImageDraw.Draw(img2)
        
        # ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†
        draw2.rectangle([0, 0, 1400, 70], fill=(0, 100, 210))
        draw2.text((50, 25), "THE WORLD DOOR - ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†", fill=(255, 255, 255))
        
        # ã‚µã‚¤ãƒ‰ãƒãƒ¼
        draw2.rectangle([0, 70, 250, 900], fill=(255, 255, 255))
        draw2.text((20, 100), "è¿”å“å‡¦ç†", fill=(26, 26, 26))
        
        # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ - çµ±ä¸€ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°éƒ¨åˆ†ã‚’èµ¤è‰²ã§ãƒã‚¤ãƒ©ã‚¤ãƒˆ
        draw2.rectangle([250, 70, 282, 900], fill=(255, 0, 0, 100))  # å·¦ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°èµ¤è‰²
        draw2.rectangle([1368, 70, 1400, 900], fill=(255, 0, 0, 100))  # å³ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°èµ¤è‰²
        
        # ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
        draw2.rectangle([300, 120, 1350, 180], fill=(255, 255, 255))
        draw2.text((320, 140), "è¿”å“æ¤œå“    å†å‡ºå“æ¥­å‹™ãƒ•ãƒ­ãƒ¼    è¿”å“ç†ç”±åˆ†æ", fill=(26, 26, 26))
        
        # æ¥­å‹™ãƒ•ãƒ­ãƒ¼ - ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°çµ±ä¸€éƒ¨åˆ†
        draw2.rectangle([300, 200, 1350, 500], fill=(255, 255, 255))
        draw2.text((320, 220), "è¿”å“å•†å“å†å‡ºå“æ¥­å‹™ãƒ•ãƒ­ãƒ¼", fill=(26, 26, 26))
        
        # ã‚¹ãƒ†ãƒƒãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
        for i, step in enumerate(['æ¤œå“çµæœç¢ºèª', 'å†™çœŸæ’®å½±', 'å•†å“æƒ…å ±æ›´æ–°', 'ä¾¡æ ¼è¨­å®š', 'å†å‡ºå“']):
            x = 350 + i * 180
            draw2.circle([x, 280], 20, fill=(0, 100, 210))
            draw2.text((x-50, 300), step, fill=(26, 26, 26))
        
        # å•†å“æƒ…å ±ã‚«ãƒ¼ãƒ‰
        draw2.rectangle([300, 520, 1350, 850], fill=(255, 255, 255))
        draw2.text((320, 540), "å•†å“æƒ…å ±", fill=(26, 26, 26))
        draw2.text((320, 570), "ãƒ¬ã‚¢ãƒ»ãƒ´ã‚£ãƒ³ãƒ†ãƒ¼ã‚¸æ™‚è¨ˆ    SKU: WTH-001", fill=(102, 102, 102))
        
        img2.save('highlighted_relisting.png')
        print("âœ… å†å‡ºå“æ¥­å‹™ãƒ•ãƒ­ãƒ¼ç”»é¢ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆå®Œäº†")
        
    except Exception as e:
        print(f"âŒ å†å‡ºå“æ¥­å‹™ãƒ•ãƒ­ãƒ¼ç”»é¢ã‚¨ãƒ©ãƒ¼: {e}")
    
    # ç”»åƒ3: è¿”å“ç†ç”±åˆ†æç”»é¢
    print("ğŸ“¸ è¿”å“ç†ç”±åˆ†æç”»é¢ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°çµ±ä¸€ç®‡æ‰€ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆä¸­...")
    try:
        img3 = Image.new('RGB', (1400, 900), (248, 250, 254))
        draw3 = ImageDraw.Draw(img3)
        
        # ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†
        draw3.rectangle([0, 0, 1400, 70], fill=(0, 100, 210))
        draw3.text((50, 25), "THE WORLD DOOR - ã‚¹ã‚¿ãƒƒãƒ•ç®¡ç†", fill=(255, 255, 255))
        
        # ã‚µã‚¤ãƒ‰ãƒãƒ¼
        draw3.rectangle([0, 70, 250, 900], fill=(255, 255, 255))
        draw3.text((20, 100), "è¿”å“å‡¦ç†", fill=(26, 26, 26))
        
        # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ - çµ±ä¸€ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°éƒ¨åˆ†ã‚’èµ¤è‰²ã§ãƒã‚¤ãƒ©ã‚¤ãƒˆ
        draw3.rectangle([250, 70, 282, 900], fill=(255, 0, 0, 100))  # å·¦ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°èµ¤è‰²
        draw3.rectangle([1368, 70, 1400, 900], fill=(255, 0, 0, 100))  # å³ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°èµ¤è‰²
        
        # ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
        draw3.rectangle([300, 120, 1350, 180], fill=(255, 255, 255))
        draw3.text((320, 140), "è¿”å“æ¤œå“    å†å‡ºå“æ¥­å‹™ãƒ•ãƒ­ãƒ¼    è¿”å“ç†ç”±åˆ†æ", fill=(26, 26, 26))
        
        # åˆ†æç”»é¢ - ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°çµ±ä¸€éƒ¨åˆ†
        draw3.rectangle([300, 200, 1350, 300], fill=(255, 255, 255))
        draw3.text((320, 220), "è¿”å“ç†ç”±åˆ†æ", fill=(26, 26, 26))
        draw3.text((320, 250), "ä»Šæœˆ    å…¨ã‚«ãƒ†ã‚´ãƒªãƒ¼", fill=(102, 102, 102))
        
        # çµ±è¨ˆã‚«ãƒ¼ãƒ‰ï¼ˆ3ã¤æ¨ªä¸¦ã³ï¼‰
        for i, (title, value) in enumerate([('ç·è¿”å“æ•°', '150'), ('è¿”å“ç‡', '3.8%'), ('æ”¹å–„å„ªå…ˆé …ç›®', '3')]):
            x = 300 + i * 350
            draw3.rectangle([x, 320, x+330, 420], fill=(255, 255, 255))
            draw3.text((x+20, 340), title, fill=(102, 102, 102))
            draw3.text((x+20, 370), value, fill=(26, 26, 26))
        
        # ãƒãƒ£ãƒ¼ãƒˆã‚¨ãƒªã‚¢
        draw3.rectangle([300, 450, 1350, 850], fill=(255, 255, 255))
        draw3.text((320, 470), "è¿”å“ç†ç”±å†…è¨³    æœˆåˆ¥è¿”å“æ¨ç§»", fill=(26, 26, 26))
        
        img3.save('highlighted_analysis.png')
        print("âœ… è¿”å“ç†ç”±åˆ†æç”»é¢ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆå®Œäº†")
        
    except Exception as e:
        print(f"âŒ è¿”å“ç†ç”±åˆ†æç”»é¢ã‚¨ãƒ©ãƒ¼: {e}")
    
    # çµ±åˆç”»åƒä½œæˆ
    try:
        print("ğŸ“¸ çµ±åˆãƒã‚¤ãƒ©ã‚¤ãƒˆç”»åƒã‚’ä½œæˆä¸­...")
        
        # 3ã¤ã®ç”»åƒã‚’ç¸¦ã«ä¸¦ã¹ã‚‹
        combined_width = 1400
        combined_height = 2700  # å„ç”»åƒ900px Ã— 3
        combined_img = Image.new('RGB', (combined_width, combined_height), (255, 255, 255))
        
        # ç”»åƒã‚’èª­ã¿è¾¼ã‚“ã§çµåˆ
        if os.path.exists('highlighted_inspection.png'):
            img1 = Image.open('highlighted_inspection.png')
            combined_img.paste(img1, (0, 0))
        
        if os.path.exists('highlighted_relisting.png'):
            img2 = Image.open('highlighted_relisting.png')
            combined_img.paste(img2, (0, 900))
        
        if os.path.exists('highlighted_analysis.png'):
            img3 = Image.open('highlighted_analysis.png')
            combined_img.paste(img3, (0, 1800))
        
        # ã‚¿ã‚¤ãƒˆãƒ«è¿½åŠ 
        draw_combined = ImageDraw.Draw(combined_img)
        draw_combined.text((50, 30), "ğŸ”´ ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°çµ±ä¸€ç®‡æ‰€ï¼ˆèµ¤è‰²éƒ¨åˆ†ï¼‰", fill=(255, 0, 0))
        draw_combined.text((50, 930), "ğŸ”´ ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°çµ±ä¸€ç®‡æ‰€ï¼ˆèµ¤è‰²éƒ¨åˆ†ï¼‰", fill=(255, 0, 0))
        draw_combined.text((50, 1830), "ğŸ”´ ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°çµ±ä¸€ç®‡æ‰€ï¼ˆèµ¤è‰²éƒ¨åˆ†ï¼‰", fill=(255, 0, 0))
        
        combined_img.save('padding_unified_highlighted.png')
        print("âœ… çµ±åˆãƒã‚¤ãƒ©ã‚¤ãƒˆç”»åƒä¿å­˜å®Œäº†: padding_unified_highlighted.png")
        
        # ç”»åƒã‚’é–‹ã
        os.system('start padding_unified_highlighted.png')
        
    except Exception as e:
        print(f"âŒ çµ±åˆç”»åƒä½œæˆã‚¨ãƒ©ãƒ¼: {e}")
    
    print("\nğŸ¯ ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°çµ±ä¸€ãƒã‚¤ãƒ©ã‚¤ãƒˆå®Œäº†!")
    print("èµ¤è‰²ã®éƒ¨åˆ†ãŒçµ±ä¸€ã•ã‚ŒãŸãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆ32pxï¼‰ã§ã™")

if __name__ == "__main__":
    create_highlighted_images() 