<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒˆãƒªã‚¢ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ  ãƒ‡ãƒ¢ç”¨QRã‚³ãƒ¼ãƒ‰</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .patient-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .patient-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            page-break-inside: avoid;
        }
        .patient-card h2 {
            margin-top: 0;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .qr-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 4px;
        }
        .patient-info {
            font-size: 14px;
            line-height: 1.8;
        }
        .patient-info strong {
            color: #2c3e50;
            display: inline-block;
            min-width: 120px;
        }
        .tag-label {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: bold;
            margin-left: 10px;
        }
        .tag-red { background-color: #e74c3c; color: white; }
        .tag-yellow { background-color: #f39c12; color: white; }
        .tag-green { background-color: #27ae60; color: white; }
        .tag-black { background-color: #34495e; color: white; }
        .instructions {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 30px;
        }
        .instructions h3 {
            margin-top: 0;
            color: #856404;
        }
        @media print {
            body {
                background: white;
            }
            .patient-card {
                box-shadow: none;
                border: 1px solid #ddd;
            }
            .instructions {
                display: none;
            }
        }
    </style>
</head>
<body>
    <h1>ğŸ¥ ãƒˆãƒªã‚¢ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ  ãƒ‡ãƒ¢ç”¨QRã‚³ãƒ¼ãƒ‰</h1>

    <div class="instructions">
        <h3>ä½¿ã„æ–¹</h3>
        <p>
            1. ã“ã®ãƒšãƒ¼ã‚¸ã‚’å°åˆ·ã™ã‚‹ã‹ã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ/ã‚¹ãƒãƒ›ã§è¡¨ç¤ºã—ã¾ã™<br>
            2. ãƒˆãƒªã‚¢ãƒ¼ã‚¸ç”»é¢ï¼ˆ/triage/scanï¼‰ã§ã€ŒQRã‚³ãƒ¼ãƒ‰èª­ã¿è¾¼ã¿ã€ã‚’é¸æŠ<br>
            3. ã‚«ãƒ¡ãƒ©ã§QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³<br>
            4. æ‚£è€…æƒ…å ±ãŒè‡ªå‹•å…¥åŠ›ã•ã‚Œã¾ã™
        </p>
    </div>

    <div class="patient-grid" id="patientGrid"></div>

    <script>
        const demoPatients = [
            {
                id: "DEMO-001",
                name: "æ‚£è€…1ï¼ˆãƒ•ã‚§ãƒ¼ã‚º2ã®ã‚·ãƒŠãƒªã‚ªç”¨ï¼‰",
                age: 35,
                gender: "å¥³æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿2-10-5",
                chiefComplaint: "å³è¶³éª¨æŠ˜ã€æ‰“æ’²",
                vitals: {
                    respiratoryRate: 18,
                    heartRate: 85,
                    spO2: 97,
                    bloodPressure: "120/75",
                    consciousnessLevel: "JCS 0"
                },
                startAssessment: {
                    canWalk: false,
                    isBreathing: true,
                    hasRadialPulse: true,
                    followsCommands: true
                },
                expectedTag: "é»„",
                notes: "æ­©è¡Œä¸å¯ã ãŒã€ãƒã‚¤ã‚¿ãƒ«å®‰å®šã€æ„è­˜æ¸…æ˜"
            },
            {
                id: "DEMO-002",
                name: "æ‚£è€…2ï¼ˆèµ¤ã‚¿ã‚° - é‡ç—‡ï¼‰",
                age: 52,
                gender: "ç”·æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿2-8-1",
                chiefComplaint: "èƒ¸éƒ¨åœ§è¿«ã€å‘¼å¸å›°é›£",
                vitals: {
                    respiratoryRate: 28,
                    heartRate: 120,
                    spO2: 88,
                    bloodPressure: "90/60",
                    consciousnessLevel: "JCS 1"
                },
                startAssessment: {
                    canWalk: false,
                    isBreathing: true,
                    hasRadialPulse: false,
                    followsCommands: true
                },
                expectedTag: "èµ¤",
                notes: "æ©ˆéª¨å‹•è„ˆè§¦çŸ¥ä¸å¯ã€å‘¼å¸ä¿ƒè¿«"
            },
            {
                id: "DEMO-003",
                name: "æ‚£è€…3ï¼ˆç·‘ã‚¿ã‚° - è»½ç—‡ï¼‰",
                age: 28,
                gender: "å¥³æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿2-11-2",
                chiefComplaint: "å·¦å‰è…•æ“¦éå‚·",
                vitals: {
                    respiratoryRate: 16,
                    heartRate: 78,
                    spO2: 99,
                    bloodPressure: "115/70",
                    consciousnessLevel: "JCS 0"
                },
                startAssessment: {
                    canWalk: true,
                    isBreathing: true,
                    hasRadialPulse: true,
                    followsCommands: true
                },
                expectedTag: "ç·‘",
                notes: "æ­©è¡Œå¯èƒ½ã€è»½åº¦ã®å¤–å‚·ã®ã¿"
            },
            {
                id: "DEMO-004",
                name: "æ‚£è€…4ï¼ˆé»„ã‚¿ã‚° - ä¸­ç­‰ç—‡ï¼‰",
                age: 67,
                gender: "ç”·æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿2-9-3",
                chiefComplaint: "å·¦å¤§è…¿éª¨éª¨æŠ˜ç–‘ã„",
                vitals: {
                    respiratoryRate: 20,
                    heartRate: 92,
                    spO2: 95,
                    bloodPressure: "130/85",
                    consciousnessLevel: "JCS 0"
                },
                startAssessment: {
                    canWalk: false,
                    isBreathing: true,
                    hasRadialPulse: true,
                    followsCommands: true
                },
                expectedTag: "é»„",
                notes: "ä¸‹è‚¢éª¨æŠ˜ã€æ­©è¡Œä¸å¯ã ãŒãƒã‚¤ã‚¿ãƒ«å®‰å®š"
            },
            {
                id: "DEMO-005",
                name: "æ‚£è€…5ï¼ˆèµ¤ã‚¿ã‚° - é‡ç—‡ï¼‰",
                age: 41,
                gender: "å¥³æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿2-7-4",
                chiefComplaint: "é ­éƒ¨å¤–å‚·ã€æ„è­˜ãƒ¬ãƒ™ãƒ«ä½ä¸‹",
                vitals: {
                    respiratoryRate: 24,
                    heartRate: 110,
                    spO2: 91,
                    bloodPressure: "100/65",
                    consciousnessLevel: "JCS 10"
                },
                startAssessment: {
                    canWalk: false,
                    isBreathing: true,
                    hasRadialPulse: true,
                    followsCommands: false
                },
                expectedTag: "èµ¤",
                notes: "æ„è­˜ãƒ¬ãƒ™ãƒ«ä½ä¸‹ã€æŒ‡ç¤ºã«å¾“ãˆãš"
            },
            {
                id: "DEMO-006",
                name: "æ‚£è€…6ï¼ˆç·‘ã‚¿ã‚° - è»½ç—‡ï¼‰",
                age: 19,
                gender: "ç”·æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿2-12-1",
                chiefComplaint: "å³æ‰‹é–¢ç¯€æ»æŒ«",
                vitals: {
                    respiratoryRate: 14,
                    heartRate: 72,
                    spO2: 98,
                    bloodPressure: "110/68",
                    consciousnessLevel: "JCS 0"
                },
                startAssessment: {
                    canWalk: true,
                    isBreathing: true,
                    hasRadialPulse: true,
                    followsCommands: true
                },
                expectedTag: "ç·‘",
                notes: "æ­©è¡Œå¯èƒ½ã€è»½åº¦ã®æ»æŒ«"
            }
        ];

        function getTagClass(tag) {
            const tagMap = {
                'èµ¤': 'tag-red',
                'é»„': 'tag-yellow',
                'ç·‘': 'tag-green',
                'é»’': 'tag-black'
            };
            return tagMap[tag] || '';
        }

        function createPatientCard(patient) {
            const card = document.createElement('div');
            card.className = 'patient-card';

            const qrData = JSON.stringify({
                id: patient.id,
                age: patient.age,
                gender: patient.gender,
                location: patient.location,
                chiefComplaint: patient.chiefComplaint,
                vitals: patient.vitals,
                startAssessment: patient.startAssessment
            });

            const qrImageUrl = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(qrData)}`;

            card.innerHTML = `
                <h2>
                    ${patient.name}
                    <span class="tag-label ${getTagClass(patient.expectedTag)}">${patient.expectedTag}ã‚¿ã‚°</span>
                </h2>
                <div class="qr-container">
                    <img src="${qrImageUrl}" alt="QRã‚³ãƒ¼ãƒ‰ ${patient.id}" />
                </div>
                <div class="patient-info">
                    <div><strong>ID:</strong> ${patient.id}</div>
                    <div><strong>å¹´é½¢:</strong> ${patient.age}æ­³</div>
                    <div><strong>æ€§åˆ¥:</strong> ${patient.gender}</div>
                    <div><strong>ç™ºè¦‹å ´æ‰€:</strong> ${patient.location}</div>
                    <div><strong>ä¸»è¨´:</strong> ${patient.chiefComplaint}</div>
                    <div style="margin-top: 10px;"><strong>ãƒã‚¤ã‚¿ãƒ«ã‚µã‚¤ãƒ³:</strong></div>
                    <div style="margin-left: 20px;">
                        å‘¼å¸: ${patient.vitals.respiratoryRate}å›/åˆ†<br>
                        å¿ƒæ‹: ${patient.vitals.heartRate}å›/åˆ†<br>
                        SpO2: ${patient.vitals.spO2}%<br>
                        è¡€åœ§: ${patient.vitals.bloodPressure}<br>
                        æ„è­˜: ${patient.vitals.consciousnessLevel}
                    </div>
                    <div style="margin-top: 10px;"><strong>å‚™è€ƒ:</strong> ${patient.notes}</div>
                </div>
            `;

            document.getElementById('patientGrid').appendChild(card);
        }

        demoPatients.forEach(patient => createPatientCard(patient));
    </script>
</body>
</html>
