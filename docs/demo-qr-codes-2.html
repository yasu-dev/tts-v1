<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒˆãƒªã‚¢ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ  ãƒ‡ãƒ¢ç”¨QRã‚³ãƒ¼ãƒ‰ #2</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .patient-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .patient-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            page-break-inside: avoid;
        }
        .patient-card h2 {
            margin-top: 0;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .qr-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 4px;
        }
        .patient-info {
            font-size: 14px;
            line-height: 1.8;
        }
        .patient-info strong {
            color: #2c3e50;
            display: inline-block;
            min-width: 120px;
        }
        .tag-label {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: bold;
            margin-left: 10px;
        }
        .tag-red { background-color: #e74c3c; color: white; }
        .tag-yellow { background-color: #f39c12; color: white; }
        .tag-green { background-color: #27ae60; color: white; }
        .tag-black { background-color: #34495e; color: white; }
        .start-answers {
            background: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 4px;
            padding: 10px;
            margin-top: 10px;
        }
        .start-answers strong {
            color: #2e7d32;
        }
        .answer-yes {
            color: #2e7d32;
            font-weight: bold;
        }
        .answer-no {
            color: #c62828;
            font-weight: bold;
        }
        .instructions {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 30px;
        }
        .instructions h3 {
            margin-top: 0;
            color: #856404;
        }
        @media print {
            body {
                background: white;
            }
            .patient-card {
                box-shadow: none;
                border: 1px solid #ddd;
            }
            .instructions {
                display: none;
            }
        }
    </style>
</head>
<body>
    <h1>ğŸ¥ ãƒˆãƒªã‚¢ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ  ãƒ‡ãƒ¢ç”¨QRã‚³ãƒ¼ãƒ‰ #2</h1>

    <div class="instructions">
        <h3>ä½¿ã„æ–¹</h3>
        <p>
            1. ã“ã®ãƒšãƒ¼ã‚¸ã‚’å°åˆ·ã™ã‚‹ã‹ã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ/ã‚¹ãƒãƒ›ã§è¡¨ç¤ºã—ã¾ã™<br>
            2. ãƒˆãƒªã‚¢ãƒ¼ã‚¸ç”»é¢ï¼ˆ/triage/scanï¼‰ã§ã€ŒQRã‚³ãƒ¼ãƒ‰èª­ã¿è¾¼ã¿ã€ã‚’é¸æŠ<br>
            3. ã‚«ãƒ¡ãƒ©ã§QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³<br>
            4. æ‚£è€…æƒ…å ±ãŒè‡ªå‹•å…¥åŠ›ã•ã‚Œã¾ã™
        </p>
    </div>

    <div class="patient-grid" id="patientGrid"></div>

    <script>
        const demoPatients = [
            {
                id: "DEMO-007",
                name: "ç”°ä¸­ å¥ä¸€",
                age: 45,
                gender: "ç”·æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿1-5-10",
                chiefComplaint: "å·¦è‚©æ‰“æ’²",
                vitals: {
                    respiratoryRate: 16,
                    heartRate: 80,
                    spO2: 98,
                    bloodPressure: "125/78",
                    consciousnessLevel: "JCS 0"
                },
                startAssessment: {
                    canWalk: true,
                    isBreathing: true,
                    hasRadialPulse: true,
                    followsCommands: true
                },
                expectedTag: "ç·‘",
                notes: "æ­©è¡Œå¯èƒ½ã€è»½åº¦ã®æ‰“æ’²ã®ã¿"
            },
            {
                id: "DEMO-008",
                name: "ä½è—¤ ç¾å’²",
                age: 58,
                gender: "å¥³æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿1-6-15",
                chiefComplaint: "è…¹éƒ¨åˆºå‰µã€å¤šé‡å‡ºè¡€",
                vitals: {
                    respiratoryRate: 32,
                    heartRate: 135,
                    spO2: 86,
                    bloodPressure: "75/50",
                    consciousnessLevel: "JCS 2"
                },
                startAssessment: {
                    canWalk: false,
                    isBreathing: true,
                    hasRadialPulse: true,
                    followsCommands: true
                },
                expectedTag: "èµ¤",
                notes: "å‘¼å¸æ•°30å›/åˆ†ä»¥ä¸Šã€ã‚·ãƒ§ãƒƒã‚¯çŠ¶æ…‹"
            },
            {
                id: "DEMO-009",
                name: "éˆ´æœ¨ ç¿”å¤ª",
                age: 32,
                gender: "ç”·æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿1-7-20",
                chiefComplaint: "å³è†é–¢ç¯€è„±è‡¼",
                vitals: {
                    respiratoryRate: 22,
                    heartRate: 95,
                    spO2: 96,
                    bloodPressure: "135/82",
                    consciousnessLevel: "JCS 0"
                },
                startAssessment: {
                    canWalk: false,
                    isBreathing: true,
                    hasRadialPulse: true,
                    followsCommands: true
                },
                expectedTag: "é»„",
                notes: "æ­©è¡Œä¸å¯ã ãŒã€ãƒã‚¤ã‚¿ãƒ«å®‰å®šã€æ„è­˜æ¸…æ˜"
            },
            {
                id: "DEMO-010",
                name: "å±±ç”° å¤ªéƒ",
                age: 73,
                gender: "ç”·æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿1-8-5",
                chiefComplaint: "å¿ƒè‚ºåœæ­¢",
                vitals: {
                    respiratoryRate: 0,
                    heartRate: 0,
                    spO2: 0,
                    bloodPressure: "0/0",
                    consciousnessLevel: "JCS 300"
                },
                startAssessment: {
                    canWalk: false,
                    isBreathing: false,
                    hasRadialPulse: false,
                    followsCommands: false
                },
                expectedTag: "é»’",
                notes: "å‘¼å¸ãªã—ã€å¿ƒè‚ºåœæ­¢çŠ¶æ…‹"
            },
            {
                id: "DEMO-011",
                name: "é«˜æ©‹ ç”±ç¾",
                age: 23,
                gender: "å¥³æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿1-9-12",
                chiefComplaint: "å³è¶³é¦–æ»æŒ«ã€è»½åº¦",
                vitals: {
                    respiratoryRate: 15,
                    heartRate: 75,
                    spO2: 99,
                    bloodPressure: "118/72",
                    consciousnessLevel: "JCS 0"
                },
                startAssessment: {
                    canWalk: true,
                    isBreathing: true,
                    hasRadialPulse: true,
                    followsCommands: true
                },
                expectedTag: "ç·‘",
                notes: "æ­©è¡Œå¯èƒ½ã€è»½åº¦ã®æ»æŒ«"
            },
            {
                id: "DEMO-012",
                name: "æ¸¡è¾º èª ",
                age: 61,
                gender: "ç”·æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿1-10-8",
                chiefComplaint: "é ­éƒ¨å¤–å‚·ã€æ„è­˜æ··æ¿",
                vitals: {
                    respiratoryRate: 26,
                    heartRate: 115,
                    spO2: 90,
                    bloodPressure: "95/60",
                    consciousnessLevel: "JCS 20"
                },
                startAssessment: {
                    canWalk: false,
                    isBreathing: true,
                    hasRadialPulse: true,
                    followsCommands: false
                },
                expectedTag: "èµ¤",
                notes: "æ„è­˜ãƒ¬ãƒ™ãƒ«ä½ä¸‹ã€æŒ‡ç¤ºã«å¾“ãˆãš"
            },
            {
                id: "DEMO-013",
                name: "ä¼Šè—¤ èŠ±å­",
                age: 39,
                gender: "å¥³æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿1-11-3",
                chiefComplaint: "å·¦å‰è…•éª¨æŠ˜",
                vitals: {
                    respiratoryRate: 19,
                    heartRate: 88,
                    spO2: 97,
                    bloodPressure: "128/80",
                    consciousnessLevel: "JCS 0"
                },
                startAssessment: {
                    canWalk: false,
                    isBreathing: true,
                    hasRadialPulse: true,
                    followsCommands: true
                },
                expectedTag: "é»„",
                notes: "éª¨æŠ˜ã«ã‚ˆã‚Šæ­©è¡Œä¸å¯ã€ãƒã‚¤ã‚¿ãƒ«å®‰å®š"
            },
            {
                id: "DEMO-014",
                name: "ä¸­æ‘ ä¸€éƒ",
                age: 50,
                gender: "ç”·æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿1-12-7",
                chiefComplaint: "é¡”é¢æ“¦éå‚·",
                vitals: {
                    respiratoryRate: 17,
                    heartRate: 82,
                    spO2: 98,
                    bloodPressure: "132/85",
                    consciousnessLevel: "JCS 0"
                },
                startAssessment: {
                    canWalk: true,
                    isBreathing: true,
                    hasRadialPulse: true,
                    followsCommands: true
                },
                expectedTag: "ç·‘",
                notes: "æ­©è¡Œå¯èƒ½ã€è»½åº¦ã®æ“¦éå‚·ã®ã¿"
            },
            {
                id: "DEMO-015",
                name: "å°æ— æµå­",
                age: 44,
                gender: "å¥³æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿1-13-1",
                chiefComplaint: "èƒ¸éƒ¨åœ§è¿«å¤–å‚·ã€ã‚·ãƒ§ãƒƒã‚¯çŠ¶æ…‹",
                vitals: {
                    respiratoryRate: 28,
                    heartRate: 125,
                    spO2: 85,
                    bloodPressure: "80/55",
                    consciousnessLevel: "JCS 3"
                },
                startAssessment: {
                    canWalk: false,
                    isBreathing: true,
                    hasRadialPulse: false,
                    followsCommands: true
                },
                expectedTag: "èµ¤",
                notes: "æ©ˆéª¨å‹•è„ˆè§¦çŸ¥ä¸å¯ã€ã‚·ãƒ§ãƒƒã‚¯çŠ¶æ…‹"
            },
            {
                id: "DEMO-016",
                name: "åŠ è—¤ é¾ä¸€",
                age: 29,
                gender: "ç”·æ€§",
                location: "æ–°å®¿åŒºè¥¿æ–°å®¿1-14-9",
                chiefComplaint: "è…°æ¤åœ§è¿«éª¨æŠ˜ç–‘ã„",
                vitals: {
                    respiratoryRate: 21,
                    heartRate: 90,
                    spO2: 95,
                    bloodPressure: "138/88",
                    consciousnessLevel: "JCS 0"
                },
                startAssessment: {
                    canWalk: false,
                    isBreathing: true,
                    hasRadialPulse: true,
                    followsCommands: true
                },
                expectedTag: "é»„",
                notes: "è…°æ¤æå‚·ç–‘ã„ã€æ­©è¡Œä¸å¯ã ãŒãƒã‚¤ã‚¿ãƒ«å®‰å®š"
            }
        ];

        function getTagClass(tag) {
            const tagMap = {
                'èµ¤': 'tag-red',
                'é»„': 'tag-yellow',
                'ç·‘': 'tag-green',
                'é»’': 'tag-black'
            };
            return tagMap[tag] || '';
        }

        function getStartAnswers(patient) {
            const answers = [];

            // Q1: æ­©è¡Œå¯èƒ½ã‹
            const q1Answer = patient.startAssessment.canWalk;
            answers.push(`Q1: æ­©è¡Œã§ãã¾ã™ã‹ï¼Ÿ â†’ <span class="answer-${q1Answer ? 'yes' : 'no'}">${q1Answer ? 'ã¯ã„' : 'ã„ã„ãˆ'}</span>`);

            // æ­©è¡Œå¯èƒ½ãªã‚‰ç·‘ã‚¿ã‚°ã§çµ‚äº†
            if (q1Answer) {
                return answers.join('<br>');
            }

            // Q2: å‘¼å¸ãŒã‚ã‚‹ã‹
            const q2Answer = patient.startAssessment.isBreathing;
            answers.push(`Q2: å‘¼å¸ã¯ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ â†’ <span class="answer-${q2Answer ? 'yes' : 'no'}">${q2Answer ? 'ã¯ã„' : 'ã„ã„ãˆ'}</span>`);

            // å‘¼å¸ãŒãªã‘ã‚Œã°é»’ã‚¿ã‚°ã§çµ‚äº†
            if (!q2Answer) {
                return answers.join('<br>');
            }

            // Q3: å‘¼å¸æ•°ãŒ30å›/åˆ†æœªæº€ã‹
            const q3Answer = patient.vitals.respiratoryRate < 30;
            answers.push(`Q3: å‘¼å¸æ•°ã¯30å›/åˆ†æœªæº€ã§ã™ã‹ï¼Ÿ â†’ <span class="answer-${q3Answer ? 'yes' : 'no'}">${q3Answer ? 'ã¯ã„' : 'ã„ã„ãˆ'}</span>`);

            // å‘¼å¸æ•°ãŒ30ä»¥ä¸Šãªã‚‰èµ¤ã‚¿ã‚°ã§çµ‚äº†
            if (!q3Answer) {
                return answers.join('<br>');
            }

            // Q4: æ©ˆéª¨å‹•è„ˆè§¦çŸ¥å¯èƒ½ã‹
            const q4Answer = patient.startAssessment.hasRadialPulse;
            answers.push(`Q4: æ©ˆéª¨å‹•è„ˆã¯è§¦ã‚Œã¾ã™ã‹ï¼Ÿ â†’ <span class="answer-${q4Answer ? 'yes' : 'no'}">${q4Answer ? 'ã¯ã„' : 'ã„ã„ãˆ'}</span>`);

            // è„ˆãŒè§¦ã‚Œãªã‘ã‚Œã°èµ¤ã‚¿ã‚°ã§çµ‚äº†
            if (!q4Answer) {
                return answers.join('<br>');
            }

            // Q5: æŒ‡ç¤ºã«å¾“ãˆã‚‹ã‹
            const q5Answer = patient.startAssessment.followsCommands;
            answers.push(`Q5: æŒ‡ç¤ºã«å¾“ãˆã¾ã™ã‹ï¼Ÿ â†’ <span class="answer-${q5Answer ? 'yes' : 'no'}">${q5Answer ? 'ã¯ã„' : 'ã„ã„ãˆ'}</span>`);

            return answers.join('<br>');
        }

        function createPatientCard(patient) {
            const card = document.createElement('div');
            card.className = 'patient-card';

            const qrData = JSON.stringify({
                id: patient.id,
                age: patient.age,
                gender: patient.gender,
                location: patient.location,
                chiefComplaint: patient.chiefComplaint,
                vitals: patient.vitals,
                startAssessment: patient.startAssessment
            });

            const qrImageUrl = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(qrData)}`;
            const startAnswersHtml = getStartAnswers(patient);

            card.innerHTML = `
                <h2>
                    ${patient.name}
                    <span class="tag-label ${getTagClass(patient.expectedTag)}">${patient.expectedTag}ã‚¿ã‚°</span>
                </h2>
                <div class="qr-container">
                    <img src="${qrImageUrl}" alt="QRã‚³ãƒ¼ãƒ‰ ${patient.id}" />
                </div>
                <div class="patient-info">
                    <div><strong>ID:</strong> ${patient.id}</div>
                    <div><strong>å¹´é½¢:</strong> ${patient.age}æ­³</div>
                    <div><strong>æ€§åˆ¥:</strong> ${patient.gender}</div>
                    <div><strong>ç™ºè¦‹å ´æ‰€:</strong> ${patient.location}</div>
                    <div><strong>ä¸»è¨´:</strong> ${patient.chiefComplaint}</div>
                    <div style="margin-top: 10px;"><strong>ãƒã‚¤ã‚¿ãƒ«ã‚µã‚¤ãƒ³:</strong></div>
                    <div style="margin-left: 20px;">
                        å‘¼å¸: ${patient.vitals.respiratoryRate}å›/åˆ†<br>
                        å¿ƒæ‹: ${patient.vitals.heartRate}å›/åˆ†<br>
                        SpO2: ${patient.vitals.spO2}%<br>
                        è¡€åœ§: ${patient.vitals.bloodPressure}<br>
                        æ„è­˜: ${patient.vitals.consciousnessLevel}
                    </div>
                    <div class="start-answers">
                        <strong>ğŸ“‹ STARTæ³•ã®å›ç­”:</strong><br>
                        ${startAnswersHtml}
                    </div>
                    <div style="margin-top: 10px;"><strong>å‚™è€ƒ:</strong> ${patient.notes}</div>
                </div>
            `;

            document.getElementById('patientGrid').appendChild(card);
        }

        demoPatients.forEach(patient => createPatientCard(patient));
    </script>
</body>
</html>
